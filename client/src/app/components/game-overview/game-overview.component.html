<mat-card id="summary">
    <mat-card-title class="big-card-title">Partie {{ numPlayers }}</mat-card-title>
    <button mat-raised-button color="warn" (click)="openQuitConfirmationDialog()" class="game-button red">Abandonner</button>
    <!-- <mat-divider></mat-divider> -->
    <mat-card-title-group>
        <mat-card-subtitle>Mode {{ mode }}</mat-card-subtitle>
        <mat-card-subtitle>Temps par tours : {{ timer }}</mat-card-subtitle>
    </mat-card-title-group>

    <mat-card-content class="reserve-text"
        >Il y a <span class="reserve-letters">{{ nbLettersReserve }}</span> lettres restantes dans la réserve</mat-card-content
    >
    <div *ngIf="mode === 'LOG2990'">
        <mat-card class="goals">
            <mat-card-title class="goalsTitle">Objectifs publiques: </mat-card-title>

            <mat-card-content [ngClass]="goal.complete ? 'completedGoal' : 'uncompletedGoal'" class="goalsContent" *ngFor="let goal of publicGoals">
                <app-goal [isPublic]="true" [goal]="goal"></app-goal>
            </mat-card-content>
        </mat-card>
    </div>
    <div class="player-info">
        <mat-card
            *ngFor="let player of gameService.players; let i = index"
            [id]="i === playerIndex.realPlayer ? 'me' : 'otherPlayer'"
            [ngClass]="gameService.currentTurn === i ? 'activePlayer' : ''"
        >
            <mat-card-title class="playerName">{{ player.name }} </mat-card-title>
            <p>
                <mat-icon class="player" [ngClass]="gameService.currentTurn === i ? 'activePlayer' : ''"> person_pin</mat-icon>
            </p>
            <div *ngIf="mode === 'LOG2990'">
                <!-- *ngIf="i === playerIndex.realPlayer || privateGoals[i].complete" -->
                <div>
                    <mat-card-title class="goalsTitle">
                        <div>Objectif privé:</div>
                    </mat-card-title>
                    <mat-card-content [ngClass]="privateGoals[i].complete ? 'completedGoal' : 'uncompletedGoal'" class="goalsContent">
                        <app-goal [isPublic]="false" [goal]="privateGoals[i]" [player]="player"></app-goal>
                    </mat-card-content>
                </div>
            </div>
            <mat-card-content *ngIf="gameService.numPlayers === 'solo' && i === playerIndex.otherPlayer"
                >Niveau : <span class="computer-level">{{ computerLevel }}</span></mat-card-content
            >
            <mat-card-content
                >Nombre de points: <span class="player-points">{{ player.points }}</span></mat-card-content
            >
            <mat-card-content *ngIf="i === gameService.currentTurn">
                Temps restant au tour:
                <strong class="time"> {{ timerService.counter.min }}m{{ timerService.counter.seconds }}s </strong>
            </mat-card-content>
            <mat-card-content *ngIf="player.rack.length < 7"> Il y a {{ player.rack.length }} lettres dans votre chevalet </mat-card-content>
            <mat-card-subtitle>{{ player.won }}</mat-card-subtitle>
            <button mat-raised-button *ngIf="player.won" color="warn" routerLink="home">Quitter</button>
        </mat-card>
    </div>
</mat-card>
